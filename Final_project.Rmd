---
title: "Effect of Transmission Type on MPG of Cars"
date: "August 16, 2016"
output: pdf_document
---

# *Executive Summary*
In this report, we are using data collected by Moto Trend Magazine. Looking into the data we are going to analyse and explore the relationship between a set of variables and miles per gallon of automobiles. Basically we are going to address the following issue:

- "Is an automatic or manual transmission better for MPG."
- "How different is the MPG between automatic and manual transmission."


# *Method*

The data set "mtcars" include the 32 observable and 11 variables: 

- mpg: Miles per US gallon
- cyl: Number of cylinders
- disp: Displacement(cubic inches)
- hp: Gross Horsepower
- drat: Rear axle ratio
- wt: Weight (lb/1000)
- vs: V/S
- am: Transmission (0 = automatic, 1 = manual)
- carb: Number of carburetors

### Exploratory analysis

Boxplot is produced to see the difference between automatic and manual transimission into the MPG. On seeing figure 1 in Appendix, it is clear that manual transmission produces more MPG. Pairwise graph (figure 2) is plotted to get intuition about the relation between different variables. There is a linear relationship between MPG and each of cyl, disp, hp, drat, wt, qsec, vs, am. The correlation is also compute between every variables and make an idea to set up model.
Then a linear model is develop using all variables. Moreover, on seeing the correlation matrix table we found wt, cyl, disp and hp are highly correlated with the dependent variables mpg.However, if we look at the correlation matrix, we also see that cyl and disp are highly correlated with each other. Since predictors should not exhibit collinearity, we should not have cyl and disp in in our model.


### Model

Here we build number of model and analyse using the data set. While looking into the correlation table in appendix, we found higher correlation between hp, am, wt with mpg. 

#### Model 1:
```{r, echo=FALSE}
model1 <- lm(mpg ~ am + wt + hp , data = mtcars)
summary(model1)
```

Again fit a model including null hypothesis that transmission is highly affect into MPG.

#### Model 2:
```{r, echo=FALSE}
model2 <- lm(mpg ~ am, data = mtcars)
summary(model2)
```

Since we have two models of the same data, we run an ANOVA to compare the two models and see if they are significantly different.

```{r, echo=FALSE}
anova(model1, model2)
```


With a p-value of 3.745e-09, we reject the null hypothesis and claim that our multivariate model(Model 1) is significantly different from our simple model(Model 2) .

Before we report the details of our model(Model 1), choosen based on seeing p-value, it is important to check the residuals for any signs of non-normality and examine the residuals vs. fitted values plot to spot for any signs of heteroskedasticity.

- From figure 3, the residuals vs fitted plot shows no pattern between the residuals and fitted value indicating that this regression model is well fit.
- The QQ plot shows that the points line up as expected meaning that the disribution is normal and out model predictions are accurate.
- In both the Scale-Location and the Residuals vs Leverage plots, the points are in a group with none too far from the center indicating no point had too much leverage.

# *Conclusions*

On visualising the coefficient and careful study of residual plot, we choose model 1. The transmission type of a car has a significance effect on its fuel efficiency. Model’s p-value is less than 0.05 also indicates that this model likely is significant - R-squared as a measure of model’s quality, represents a fraction of outcome’s variance explained by the model. In this case the model explains 0.8227 (adjusteed value) or 82.27% of variance – Model is significant if any of coeficientts are non-zero. Now when we read the coefficient for am, we say that, on average, manual transmission cars have 2.084 MPGs more than automatic transmission cars.


# *Appendix*

```{r, echo=FALSE}
data(mtcars)
boxplot(mpg ~ am,data= mtcars, col = c("blue", "green"), main = "Box plot of MPG vs Transmission", xlab = "Transmission on (0= automatic, 1= manual)", ylab = "MPG")

```


### Pairgraph between variables on mtcars data

```{r, echo= FALSE, fig.height = 7, fig.width = 8}
pairs(mtcars, panel = panel.smooth, main = "Pair Graph on mtcars data set")
```

### Correlation of MPG with other variables in the mtcars data set.
```{r, echo= FALSE}
data(mtcars)
sort(cor(mtcars)[1,])
```


```{r, echo= FALSE, fig.height =7, fig.width = 8}
par(mfrow = c(2,2))
plot(model1)
```

















